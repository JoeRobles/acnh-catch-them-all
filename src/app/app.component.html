<div style="text-align: center; height: 40px">
  <p *ngIf="clockService.datetime$ | async;else loading">{{clockService.datetime$ | async | date: 'MMMM dd, HH:mm'}}</p>
</div>
<select (change)="selectLanguage($event)" class="form-select" aria-label="Default select example">
  <option [value]="language.id" *ngFor="let language of languages">{{language.value}}</option>
</select>
<div class="form-check form-switch">
  <label class="form-check-label" *ngIf="!isSouthernHemisphere">Northern Hemisphere</label>
  <input (change)="toggleHemisphere()" class="form-check-input" type="checkbox" role="switch"
         id="flexSwitchCheckDefault">
  <label class="form-check-label" for="flexSwitchCheckDefault" *ngIf="isSouthernHemisphere">Southern Hemisphere</label>
</div>
<div>
  <audio id="musicPlayer" [src]="musicUri$ | async" controls loop preload="auto"></audio>
</div>
<div class="btn-group" role="group" aria-label="Critter display radio toggle button group">
  <input (change)="toggleDisplayBugs()" type="radio" class="btn-check" name="btnradio1" id="btnradio1"
         autocomplete="off" [checked]="display === critterTypeEnum.Bugs">
  <label class="btn btn-outline-primary" for="btnradio1"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M6.717 4.979c-0.554 -0.665 -2.484 -2.318 -4.97 -1.494 -3.64 2.16 -0.855 5.96 1.675 7.502 -2.556 4.398 2.906 4.864 4.263 1.55 0.073 -0.114 0.198 -0.301 0.281 -0.299 0.085 0.003 0.253 0.225 0.3 0.299 0.687 1.469 3.674 3.416 4.816 1.143 0.4 -0.796 -0.145 -1.966 -0.358 -2.887 2.284 -0.992 4.931 -5.593 1.935 -7.11 -1.853 -0.938 -3.724 0.367 -5.229 1.295 0.088 -0.855 0.433 -1.626 1.171 -2.165 0.998 -0.729 1.587 -0.088 1.659 -0.859 0.093 -1.006 -1.737 -0.657 -2.247 -0.41 -1.246 0.603 -1.678 1.983 -1.941 3.24 -0.436 -1.138 -0.782 -2.6 -1.947 -3.233 -0.459 -0.25 -2.4 -0.541 -2.401 0.368 -0.002 0.772 1.035 0.293 1.805 0.952 0.676 0.46 0.936 1.371 1.187 2.107" fill="currentColor"/></svg></label>

  <input (change)="toggleDisplayFish()" type="radio" class="btn-check" name="btnradio2" id="btnradio2"
         autocomplete="off" [checked]="display === critterTypeEnum.Fish">
  <label class="btn btn-outline-primary" for="btnradio2"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M6.191 3.713C3.41 3.766 0.559 4.394 0.009 7.08c0.009 0.134 -0.035 0.49 0.017 0.715 1.28 5.489 10.222 5.872 12.648 1.577l-0.003 0.012c0.662 1.386 1.86 1.837 3.09 2.165 0.179 0.053 0.208 -0.091 0.148 -0.18 -0.344 -0.565 -1.087 -1.943 -1.147 -3.389 -0.063 -1.525 0.839 -2.921 1.185 -3.399 0.059 -0.105 0.104 -0.18 -0.075 -0.22 -0.254 -0.022 -0.757 0.014 -1.62 0.381 -0.998 0.424 -1.415 1.575 -1.415 1.575 -1.006 -1.679 -3.865 -2.658 -6.646 -2.604zm-3.365 1.815c1.323 -0.047 1.492 2.552 -0.032 2.553 -1.466 0.001 -1.501 -2.498 0.032 -2.553z" fill="currentColor"/></svg></label>

  <input (change)="toggleDisplaySea()" type="radio" class="btn-check" name="btnradio3" id="btnradio3"
         autocomplete="off" [checked]="display === critterTypeEnum.Sea">
  <label class="btn btn-outline-primary" for="btnradio3"><svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8 0.002c-1.462 0 -2.532 0.241 -4.141 1.448C2.25 2.656 2.17 4.265 2.17 4.909s0.08 2.413 1.126 3.62c0.793 0.9 1.758 1.101 0.644 1.368 -1.126 0.161 -1.77 1.045 -1.77 1.045s-0.362 0.523 -0.362 1.891c0 1.367 1.649 2.292 1.649 2.292s0.564 0 0.483 -0.563c-0.08 -0.564 -0.482 -0.725 0.241 -1.851 0.523 -0.684 0.804 -0.482 0.804 -0.482s0.241 0.241 0.161 0.643c-0.281 0.523 -0.161 2.052 1.368 3.018 0.845 0.241 1.046 0.12 0.724 -0.684 -0.08 -0.885 -0.241 -2.655 0.762 -2.655 1.004 0 0.842 1.77 0.761 2.655 -0.322 0.804 -0.12 0.925 0.725 0.684 1.528 -0.965 1.649 -2.494 1.367 -3.018 -0.081 -0.402 0.161 -0.643 0.161 -0.643s0.281 -0.202 0.804 0.482c0.724 1.126 0.323 1.287 0.242 1.85 -0.081 0.564 0.482 0.563 0.482 0.563s1.649 -0.925 1.649 -2.292 -0.361 -1.891 -0.361 -1.891 -0.643 -0.885 -1.77 -1.046c-1.113 -0.267 -0.15 -0.468 0.644 -1.368 1.046 -1.207 1.126 -2.977 1.126 -3.62S13.75 2.656 12.141 1.45C10.532 0.243 9.462 0.002 8 0.002zm-2.044 8.582a0.903 0.903 0 0 1 0.001 0 0.903 0.903 0 0 1 0.903 0.903 0.903 0.903 0 0 1 -0.903 0.903 0.903 0.903 0 0 1 -0.903 -0.903 0.903 0.903 0 0 1 0.902 -0.903zm4.018 0a0.903 0.903 0 0 1 0.001 0 0.903 0.903 0 0 1 0.903 0.903 0.903 0.903 0 0 1 -0.903 0.903 0.903 0.903 0 0 1 -0.903 -0.903 0.903 0.903 0 0 1 0.902 -0.903z" fill="currentColor"/></svg></label>

  <input (change)="toggleDisplaySongs()" type="radio" class="btn-check" name="btnradio7" id="btnradio7"
         autocomplete="off" [checked]="display === critterTypeEnum.Songs">
  <label class="btn btn-outline-primary" for="btnradio7"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="16px" width="16px" version="1.1" id="Capa_1" viewBox="0 0 1.107 1.107" xml:space="preserve"><g><g><path fill="currentColor" cx="27.667" cy="27.667" r="3.618" d="M0.626 0.553A0.072 0.072 0 0 1 0.553 0.626A0.072 0.072 0 0 1 0.481 0.553A0.072 0.072 0 0 1 0.626 0.553z"/><path fill="currentColor" d="M0.553 0C0.248 0 0 0.248 0 0.553s0.248 0.553 0.553 0.553 0.553 -0.248 0.553 -0.553S0.859 0 0.553 0zM0.342 0.138a0.464 0.464 0 0 1 0.224 -0.05c0.007 0 0.012 0.018 0.011 0.041l-0.006 0.114c-0.001 0.022 -0.006 0.04 -0.01 0.04a0.272 0.272 0 0 0 -0.121 0.024c-0.02 0.009 -0.044 0.004 -0.055 -0.015l-0.058 -0.098c-0.011 -0.019 -0.005 -0.044 0.014 -0.054zm-0.023 0.208 -0.086 -0.075c-0.017 -0.015 -0.018 -0.04 -0.002 -0.055l0.001 -0.001c0.016 -0.015 0.041 -0.012 0.055 0.005l0.07 0.09c0.014 0.017 0.017 0.038 0.008 0.046 -0.009 0.009 -0.029 0.004 -0.046 -0.01zm0.038 0.207c0 -0.108 0.088 -0.196 0.196 -0.196s0.196 0.088 0.196 0.196 -0.088 0.196 -0.196 0.196 -0.196 -0.088 -0.196 -0.196zM0.763 0.97a0.464 0.464 0 0 1 -0.225 0.05c-0.008 0 -0.014 -0.019 -0.013 -0.041l0.006 -0.114c0.001 -0.022 0.006 -0.04 0.012 -0.039a0.272 0.272 0 0 0 0.113 -0.02c0.02 -0.008 0.045 -0.003 0.058 0.016l0.062 0.095c0.012 0.019 0.007 0.043 -0.013 0.053zm0.109 -0.076c-0.015 0.014 -0.04 0.011 -0.054 -0.006l-0.072 -0.088c-0.014 -0.017 -0.018 -0.037 -0.009 -0.045 0.009 -0.008 0.029 -0.004 0.045 0.011l0.086 0.075c0.017 0.015 0.019 0.039 0.003 0.053z"/></g></g></svg></label>
</div>
<div class="btn-group" role="group" aria-label="Display mode toggle button group">
  <input (change)="toggleDiscoveryMode()" type="radio" class="btn-check" name="btnradio4" id="btnradio4"
         autocomplete="off" [checked]="mode === modeTypeEnum.Discovery">
  <label class="btn btn-outline-primary" for="btnradio4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.5 16" width="15.5" height="16"><path d="M7.043 7.293a1.001 1.001 0 1 0 1.414 1.414 1.001 1.001 0 0 0 -1.414 -1.414zM7.75 0.25a7.75 7.75 0 1 0 0 15.5 7.75 7.75 0 0 0 0 -15.5zm3.942 4.627L9.63 9.387a0.998 0.998 0 0 1 -0.493 0.493l-4.51 2.062a0.618 0.618 0 0 1 -0.819 -0.819l2.062 -4.51a0.998 0.998 0 0 1 0.493 -0.493l4.51 -2.062a0.618 0.618 0 0 1 0.819 0.819z" fill="currentColor"/></svg></label>

  <input (change)="toggleCollectionMode()" type="radio" class="btn-check" name="btnradio5" id="btnradio5"
         autocomplete="off" [checked]="mode === modeTypeEnum.Collection">
  <label class="btn btn-outline-primary" for="btnradio5"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.001 16.001" width="14.001" height="16.001"><path d="M9.949 6.5H8.728c-0.046 0.845 -0.205 1.605 -0.444 2.2a2.995 2.995 0 0 0 1.665 -2.2zm0 -1a2.996 2.996 0 0 0 -1.665 -2.2c0.241 0.595 0.398 1.356 0.444 2.2h1.222zM7 3.041c-0.241 0.233 -0.649 1.076 -0.732 2.46h1.465C7.65 4.117 7.24 3.274 7 3.041zm-1.284 0.258A2.995 2.995 0 0 0 4.052 5.499h1.222c0.046 -0.845 0.204 -1.605 0.444 -2.2zm0 5.401c-0.241 -0.595 -0.398 -1.356 -0.444 -2.2H4.052a2.994 2.994 0 0 0 1.665 2.2zm2.016 -2.2H6.268c0.083 1.383 0.492 2.227 0.732 2.46 0.241 -0.233 0.649 -1.076 0.732 -2.46zM14.001 11.201V0.8C14.001 0.3 13.701 0 13.2 0H3.001C1.3 0 0 1.3 0 3.001v10c0 1.7 1.3 3.001 3.001 3.001h10.201c0.4 0 0.8 -0.3 0.8 -0.8V14.701c0 -0.2 -0.101 -0.4 -0.3 -0.599 -0.101 -0.501 -0.101 -1.9 0 -2.3 0.2 -0.101 0.3 -0.3 0.3 -0.599zM7 2a4.001 4.001 0 1 1 -0.001 8.001A4.001 4.001 0 0 1 7 2zM12.001 14.001H3.001c-0.599 0 -1 -0.4 -1 -1s0.501 -1 1 -1h9.001v2z" fill="currentColor"/></svg></label>

  <input (change)="toggleAllMode()" type="radio" class="btn-check" name="btnradio6" id="btnradio6"
         autocomplete="off" [checked]="mode === modeTypeEnum.All">
  <label class="btn btn-outline-primary" for="btnradio6"><svg viewBox="0 0 18 16" xmlns="http://www.w3.org/2000/svg" width="18" height="16"><path d="M17.891 7.543C16.197 4.238 12.842 2 9 2S1.802 4.239 0.109 7.544a1.01 1.01 0 0 0 0 0.912C1.803 11.763 5.158 14 9 14s7.198 -2.239 8.892 -5.544a1.01 1.01 0 0 0 0 -0.912zM9 12.5a4.5 4.5 0 1 1 4.5 -4.5 4.498 4.498 0 0 1 -4.5 4.5zm0 -7.5a2.978 2.978 0 0 0 -0.791 0.118 1.495 1.495 0 0 1 -2.091 2.091A2.993 2.993 0 1 0 9 5z" fill="currentColor"/></svg></label>
</div>
<div *ngIf="display === critterTypeEnum.Bugs">
  Bugs: {{ critterService.bugsAmount }} / {{ bugsList.length }}
  <div class="table-responsive">
    <table class="table">
      <tbody>
      <tr *ngFor="let fiveBugs of critterService.bugsGrid$ | async">
        <td class="text-center align-middle" *ngFor="let bug of fiveBugs"
            (click)="selectCritter(bug, critterTypeEnum.Bugs)">
          <app-critter-discovery [critter]="bug" [critterType]="critterTypeEnum.Bugs"></app-critter-discovery>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>


<div *ngIf="display === critterTypeEnum.Fish">
  Fish: {{ critterService.fishAmount }} / {{ fishList.length }}
  <div class="table-responsive">
    <table class="table">
      <tbody>
      <tr *ngFor="let fiveFish of critterService.fishGrid$ | async">
        <td class="text-center align-middle" *ngFor="let fish of fiveFish"
            (click)="selectCritter(fish, critterTypeEnum.Fish)">
          <app-critter-discovery [critter]="fish" [critterType]="critterTypeEnum.Fish"></app-critter-discovery>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<div *ngIf="display === critterTypeEnum.Sea">
  Sea Creatures: {{ critterService.seaAmount }} / {{ seaList.length }}
  <div class="table-responsive">
    <table class="table w-50">
      <tbody>
      <tr *ngFor="let fiveSea of critterService.seaGrid$ | async">
        <td class="text-center align-middle" *ngFor="let sea of fiveSea"
            (click)="selectCritter(sea, critterTypeEnum.Sea)">
          <app-critter-discovery [critter]="sea" [critterType]="critterTypeEnum.Sea"></app-critter-discovery>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<app-critter-legend *ngIf="display === critterTypeEnum.Bugs || display === critterTypeEnum.Fish || display === critterTypeEnum.Sea"></app-critter-legend>
<ng-template #loading>
  <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</ng-template>
<div
  class="modal fade"
  id="myModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <app-critter-detail></app-critter-detail>
        <app-song-detail></app-song-detail>
      </div>
    </div>
  </div>
</div>

<div *ngIf="display === critterTypeEnum.Songs">
  Songs: {{ critterService.songsAmount }} / {{ songList.length }}
  <div class="table-responsive">
    <table class="table">
      <tbody>
      <tr *ngFor="let fiveSongs of critterService.songsGrid$ | async">
        <td [class.orderable]="!song.isOrderable" *ngFor="let song of fiveSongs"
            (click)="selectCritter(song, critterTypeEnum.Songs)">
          <app-song [song]="song"></app-song>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
